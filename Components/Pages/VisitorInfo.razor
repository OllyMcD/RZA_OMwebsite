@page "/visitor-info"
@using RZA_OMwebsite.Services
@using RZA_OMwebsite.Pages
@using MudBlazor
@inject AuthService AuthService
@inject NavigationManager NavigationManager
@inject PageService PageService
@inject TrackingService TrackingService
@inject IHttpContextAccessor HttpContextAccessor

<div style="background-color: #1a3d0b; padding: 20px;"> <!-- Wrapper div with dark green background -->
<MudContainer MaxWidth="MaxWidth.ExtraLarge" Style="background-color: #286506;" Class="mt-4">
    <br />
    <!-- 1. Page Header -->
    <MudPaper Class="pa-4 mb-4" Elevation="4" Style="background-color: #4d8e0f;">
        <MudText Typo="Typo.h3" Style="color: #fff;" Align="Align.Center">Welcome to the Visitor Information Hub</MudText>
        <MudText Typo="Typo.body1" Align="Align.Center" Style="color: #fff;">
            Your complete guide to making the most of your visit.
        </MudText>
    </MudPaper>

    <!-- 2. Highlighted Events Section -->
    <MudPaper Class="pa-4 mb-4" Elevation="3" Style="background-color: #7ab820;">
        <MudText Typo="Typo.h4" Style="color: #fff;" Align="Align.Center">Present Events</MudText>
        <MudGrid>
            <MudItem xs="12" sm="6" md="4">
                <MudCard>
                    <MudCardMedia Image="images/Nature-walk.jpg" Title="Zoo Day Parade" />
                    <MudCardContent>
                        <MudText Typo="Typo.body2" Style="color: #4d8e0f;">
                            Join us for the annual Zoo Parade, animal-themed floats, and family fun!
                        </MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCard>
                    <MudCardMedia Image="images/Animal-feeding.jpg" Title="Nocturnal Animal Tour" />
                    <MudCardContent>
                        <MudText Typo="Typo.body2" Style="color: #4d8e0f;">
                            Explore the world of nocturnal animals in an exclusive evening tour.
                        </MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCard>
                    <MudCardMedia Image="images/Conservation.jpg" Title="Zoo Keeper for a Day" />
                    <MudCardContent>
                        <MudText Typo="Typo.body2" Style="color: #4d8e0f;">
                            Experience a day in the life of a zookeeper with hands-on animal care activities.
                        </MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudPaper>

    <!-- 3. Animal of the Month -->
    <MudPaper Class="pa-4 mb-4" Elevation="3" Style="background-color: #9aba8b;">
        <MudText Typo="Typo.h4" Style="color: #fff;" Align="Align.Center">Animal of the Month: The Majestic Tiger</MudText>
        <MudGrid>
            <MudItem xs="8" sm="7">
                    <MudImage Src="images/tiger.jpg" Width="1000" Height="680" Alt="Tiger" Elevation="25" Class="rounded-lg ma-4" />
            </MudItem>
            <MudItem xs="4" sm="5">
                <br />
                <br />
                <br />
                <br />
                <MudText Typo="Typo.body1" Style="color: #fff;">
                        Tigers, the tiger is one of the most iconic members of the big cat family, captivate the imagination with their unparalleled power and majestic beauty. Renowned for their strength and agility, these big cats can leap up to 30 feet in a single bound and have a bite force strong enough to bring down prey much larger than themselves.

                        Tigers inhabit a wide range of ecosystems, from dense tropical rainforests to the snow-covered mountains of Siberia. They are solitary creatures, fiercely protective of their territory, which can span hundreds of square miles. Each tiger boasts a unique stripe pattern, much like a human fingerprint, making them easy to identify individually.

                        A tiger’s diet primarily consists of large ungulates like deer and wild boar, but they are opportunistic hunters, ready to adapt their menu to whatever is available in their environment. Their stealth, power, and patience make them apex predators in their ecosystem.

                        Despite their dominance in the wild, tigers face significant threats from habitat loss, human-wildlife conflict, and poaching. Conservation organizations worldwide are working tirelessly to protect these magnificent animals through habitat preservation, anti-poaching efforts, and breeding programs.

                        Did you know?

                        - Tigers are excellent swimmers and often cool off in rivers and streams.

                        - There are six subspecies of tigers, each with unique characteristics, including the Bengal, Siberian, and Sumatran tigers.

                        - Less than 4,000 tigers remain in the wild today, making conservation efforts more critical than ever.

                        Explore the awe-inspiring world of tigers during your visit and learn how you can contribute to their conservation. Together, we can ensure these magnificent creatures continue to roam the wild for generations to come.
                </MudText>
            </MudItem>
        </MudGrid>
    </MudPaper>

    <!-- 4. Visitor Testimonials -->
    <MudPaper Class="pa-4 mb-4" Elevation="3" Style="background-color: #7ab820;">
        <MudText Typo="Typo.h4" Style="color: #fff;" Align="Align.Center">What Visitors Say</MudText>
        <br />
        <MudCarousel  Style="height: 9vh;" TData="object" ShowArrows="@arrows" ShowBullets="@bullets" EnableSwipeGesture="@enableSwipeGesture" AutoCycle="@autocycle">
            <MudCarouselItem Style="text-align: center;">
                <MudText Typo="Typo.body1" Style="color: #4d8e0f;">
                    "A fantastic day out for the whole family! The kids loved the giraffe feeding experience."
                </MudText>
                <MudText Typo="Typo.caption" Align="Align.Right" Style="color: #fff;">- Alex M.</MudText>
            </MudCarouselItem>
            <MudCarouselItem Style="text-align: center;">
                <MudText Typo="Typo.body1" Style="color: #4d8e0f;">
                    "Beautiful zoo with lots of shade and rest areas. Highly recommend the bird show!"
                </MudText>
                <MudText Typo="Typo.caption" Align="Align.Right" Style="color: #fff;">- John P.</MudText>
            </MudCarouselItem>
            <MudCarouselItem Style="text-align: center;">
                <MudText Typo="Typo.body1" Style="color: #4d8e0f;">
                    "Informative and fun! The guided tour was the highlight of our visit."
                </MudText>
                <MudText Typo="Typo.caption" Align="Align.Right" Style="color: #fff;">- Sarah T.</MudText>
            </MudCarouselItem>
        </MudCarousel>
    </MudPaper>

    <!-- 5. Ticket Pricing -->
   <MudContainer MaxWidth="MaxWidth.Large">
    <MudPaper Elevation="4" Square="true" Style="background-color: #4d8e0f; padding: 20px; color: white;">
        <MudText Typo="Typo.h3" Align="Align.Center">What's the best plan for your visit?</MudText>
        <MudText Typo="Typo.body1" Align="Align.Center" Style="margin-top: 10px;">
            Whether you're bringing the whole family or just visiting, we have a plan to fit your needs. Check out our special rates for children, seniors, and adults below!
        </MudText>
    </MudPaper>

    <MudGrid Spacing="3" Justify="Justify.Center" Style="margin-top: 40px;">
        <!-- Child Plan -->
        <MudItem xs="12" sm="4" Style="display: flex; justify-content: center;">
            <MudPaper Elevation="4" Style="background-color: #7ab820; padding: 20px; width: 100%; max-width: 300px; text-align: center;">
                <MudText Typo="Typo.h5" Style="font-weight: bold;">Child</MudText>
                <MudText Typo="Typo.h4" Style="font-weight: bold; font-size: 2rem;">$5</MudText>
                <MudText Typo="Typo.body1" Style="font-size: 1rem;">per child per visit</MudText>
                        <MudButton Color="Color.Primary" Variant="Variant.Filled" Href="/booking" Style="margin-top: 10px;">Get Started</MudButton>
                <MudList T="string" Style="margin-top: 20px; text-align: left;">
                    <MudListItem>Access to all child-friendly exhibits</MudListItem>
                    <MudListItem>Free activity booklet</MudListItem>
                    <MudListItem>Discounts on kids' meals at the cafe</MudListItem>
                    <MudListItem>Priority access to children's shows and events</MudListItem>
                </MudList>
            </MudPaper>
        </MudItem>

        <!-- Senior Plan -->
        <MudItem xs="12" sm="4" Style="display: flex; justify-content: center;">
            <MudPaper Elevation="4" Style="background-color: #9aba8b; padding: 20px; width: 100%; max-width: 300px; text-align: center;">
                <MudText Typo="Typo.h5" Style="font-weight: bold;">Senior</MudText>
                <MudText Typo="Typo.h4" Style="font-weight: bold; font-size: 2rem;">$8</MudText>
                <MudText Typo="Typo.body1" Style="font-size: 1rem;">per senior per visit</MudText>
                        <MudButton Color="Color.Primary" Variant="Variant.Filled" Href="/booking" Style="margin-top: 10px;">Get Started</MudButton>
                <MudList T="string" Style="margin-top: 20px; text-align: left;">
                    <MudListItem>Access to senior-exclusive events</MudListItem>
                    <MudListItem>Free guided tours</MudListItem>
                    <MudListItem>Discounted parking rates</MudListItem>
                    <MudListItem>Priority access to all exhibits</MudListItem>
                </MudList>
            </MudPaper>
        </MudItem>

        <!-- Adult Plan -->
        <MudItem xs="12" sm="4" Style="display: flex; justify-content: center;">
            <MudPaper Elevation="4" Style="background-color: #4d8e0f; padding: 20px; width: 100%; max-width: 300px; text-align: center;">
                <MudText Typo="Typo.h5" Style="font-weight: bold;">Adult</MudText>
                <MudText Typo="Typo.h4" Style="font-weight: bold; font-size: 2rem;">$15</MudText>
                <MudText Typo="Typo.body1" Style="font-size: 1rem;">per adult per visit</MudText>
                        <MudButton Color="Color.Primary" Variant="Variant.Filled" Href="/booking" Style="margin-top: 10px;">Get Started</MudButton>
                <MudList T="string" Style="margin-top: 20px; text-align: left;">
                    <MudListItem>Access to all exhibits and events</MudListItem>
                    <MudListItem>Free drink voucher at the cafe</MudListItem>
                    <MudListItem>Discount on special tours</MudListItem>
                    <MudListItem>Exclusive adult-only events</MudListItem>
                </MudList>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>


    <!-- 6. Opening Hours -->
    <br />
    <MudPaper Class="pa-4 mb-4" Elevation="3" Style="background-color: #7ab820;">
        <MudText Typo="Typo.h4" Style="color: #fff;" Align="Align.Center">Opening Hours</MudText>
        <MudGrid Class="pa-4">
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.subtitle1" Color="Color.Secondary" Style="color: #4d8e0f;">Day</MudText>
            </MudItem>
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.subtitle1" Color="Color.Secondary" Style="color: #4d8e0f;">Hours</MudText>
            </MudItem>

            <!-- Monday - Friday -->
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">Monday - Friday</MudText>
            </MudItem>
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">9:00 AM - 5:00 PM</MudText>
            </MudItem>

            <!-- Saturday -->
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">Saturday</MudText>
            </MudItem>
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">10:00 AM - 6:00 PM</MudText>
            </MudItem>

            <!-- Sunday -->
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">Sunday</MudText>
            </MudItem>
            <MudItem xs="6" sm="6" md="6" lg="6">
                <MudText Typo="Typo.body1" Style="color: #fff;">11:00 AM - 4:00 PM</MudText>
            </MudItem>
        </MudGrid>
    </MudPaper>
    <br />
    <br />
</MudContainer>
</div>

@code 
{
    private bool arrows = false;
    private bool bullets = false;
    private bool enableSwipeGesture = false;
    private bool autocycle = true;
    private Transition transition = Transition.Fade;
    private bool firstRender = true;


    protected override async Task OnInitializedAsync()
    {
        await TrackingService.LogActionAsync("Visited VisitorInfo Page", HttpContextAccessor.HttpContext);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var currentPageUrl = NavigationManager.Uri.Substring(22);
            await PageService.TrackPageViewAsync(currentPageUrl);
            this.firstRender = false;
        }
    }
}